        --rising: #22c55e;
        --stable: #f97316;
        --dropping: #ec4899;
        --overpaid: #facc15;
        --underpaid: #ef4444;
        --hyped: #3b82f6;
        --recovering: #555555;
        --unstable: #9d174d;

        --grad-astral: linear-gradient(60deg, #640081, #7e00a5, #154af0, #00cd82, #11ff46);
        --grad-cosmic: linear-gradient(80deg, #b800e6, #6cedf0);
        --grad-divine: linear-gradient(180deg, #c400cf, #2248ff);
        --grad-godly: linear-gradient(180deg, #7b00e6, #6367ff);
        --grad-exclusive: linear-gradient(180deg, #2e7dff, #2be7f6);
        --grad-mythic: linear-gradient(180deg, #ff6d68, #cc1d1b);
        --grad-legendary: linear-gradient(180deg, #f5a623, #d48c00);
    }

    * {
        font-family: 'Montserrat', sans-serif;
        letter-spacing: 0.5px;
        box-sizing: border-box;
    }

    body {
        background-color: var(--bg-page);
        color: var(--text-main);
        margin: 0; 
        padding: 20px;
        display: flex; 
        flex-direction: column;
        align-items: center;
    }

    .status-rising { color: var(--rising); }
    .status-stable { color: var(--stable); }
    .status-dropping { color: var(--dropping); }
    .status-overpaid { color: var(--overpaid); }
    .status-underpaid { color: var(--underpaid); }
    .status-hyped { color: var(--hyped); }
    .status-recovering { color: var(--recovering); }
    .status-unstable { color: var(--unstable); }

    .rarity-astral { --theme: var(--grad-astral); }
    .rarity-cosmic { --theme: var(--grad-cosmic); }
    .rarity-divine { --theme: var(--grad-divine); }
    .rarity-godly { --theme: var(--grad-godly); }
    .rarity-exclusive { --theme: var(--grad-exclusive); }
    .rarity-mythic { --theme: var(--grad-mythic); }
    .rarity-legendary { --theme: var(--grad-legendary); }

    .controls-container {
        width: 100%;
        max-width: 1200px;
        margin-bottom: 30px;
        display: flex;
        flex-direction: column;
        gap: 20px;
    }

    #search-bar {
        width: 100%;
        padding: 15px 20px;
        background: var(--card-bg);
        border: 2px solid var(--border-solid);
        border-radius: 12px;
        color: white;
        font-size: 16px;
        outline: none;
        transition: border-color 0.3s;
    }

    #search-bar:focus { border-color: var(--gold); }

    .tabs-wrapper, .sort-wrapper {
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
        justify-content: center;
    }

    .tab-btn, .sort-btn {
        background: var(--card-bg);
        border: 2px solid var(--border-solid);
        color: var(--text-dim);
        padding: 10px 20px;
        cursor: pointer;
        font-weight: bold;
        text-transform: uppercase;
        font-size: 12px;
        transition: 0.3s;
        border-radius: 8px;
    }

    .tab-btn:hover, .tab-btn.active, .sort-btn:hover, .sort-btn.active { 
        color: white; 
        border-color: var(--gold);
    }

    .list-container {
        display: grid;
        grid-template-columns: repeat(3, 1fr);
        gap: 25px; 
        max-width: 1200px; 
        width: 100%;
    }

    .unit-card {
        background-color: var(--card-bg);
        border: 2px solid var(--border-solid);
        border-radius: 16px; 
        padding: 20px;
        text-align: center; 
        position: relative;
        display: flex;
        flex-direction: column;
    }

    .header-section {
        min-height: 60px;
        margin-bottom: 10px;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
    }

    .unit-title {
        font-size: 16px; 
        font-weight: 900; 
        text-transform: uppercase;
        line-height: 1.1;
    }

    .second-edition-tag {
        font-size: 10px;
        font-weight: 700;
        color: var(--gold);
        text-transform: uppercase;
        margin-top: 4px;
        letter-spacing: 1px;
    }

    .card-body { 
        display: flex; 
        align-items: center; 
        justify-content: space-between; 
        margin-bottom: 25px;
        gap: 10px;
    }

    .buff-column { 
        display: flex; 
        flex-direction: column; 
        gap: 12px; 
    }

    .icon-slot {
        width: 42px; height: 42px;
        background-color: var(--box-bg);
        border: 2px solid var(--border-solid);
        border-radius: 50%;
        display: flex; align-items: center; justify-content: center;
        overflow: hidden; position: relative;
        cursor: pointer; transition: 0.3s;
        filter: grayscale(1); opacity: 0.2;
    }

    .icon-slot:hover { opacity: 0.6; }
    
    .icon-slot.active {
        filter: grayscale(0); opacity: 1;
        border-color: var(--gold);
    }

    .icon-img {
        width: 75%; height: 75%;
        background-image: var(--asset-path);
        background-size: contain; background-repeat: no-repeat; background-position: center;
    }

    .effect-overlay {
        position: absolute; inset: 0; pointer-events: none;
        background: linear-gradient(90deg, #ff000080, #ffff0080, #00ff0080, #0000ff80, #ff000080);
        background-size: 200% auto;
        display: none;
        -webkit-mask: var(--asset-path) center/75% no-repeat;
        mask: var(--asset-path) center/75% no-repeat;
    }

    .icon-slot.active .effect-overlay {
        display: block;
        animation: move-overlay 3s linear infinite;
    }

    @keyframes move-overlay { to { background-position: -200% 50%; } }

    .portrait-frame {
        width: 120px; height: 120px; border-radius: 50%;
        background: var(--theme); border: 3px solid #000;
        display: flex; justify-content: center; align-items: center;
        cursor: pointer; flex-shrink: 0;
    }

    .unit-image {
        width: 130px; height: 130px;
        background-image: var(--unit-img);
        background-size: cover; background-position: center;
    }

    .data-table { 
        display: grid; grid-template-columns: repeat(3, 1fr); gap: 6px; 
    }
    
    .data-cell { 
        background-color: var(--box-bg); border: 1px solid var(--border-solid); 
        padding: 10px 2px; border-radius: 8px; 
    }

    .label { 
        display: block; color: var(--text-dim); 
        font-size: 9px; font-weight: bold; 
        text-transform: uppercase; margin-bottom: 2px; 
    }

    .val { font-size: 12px; font-weight: bold; transition: 0.3s; }
    .highlight-gold { color: var(--gold); }
    .highlight-purple { color: var(--purple); }

    .pagination-container {
        margin-top: 40px;
        display: flex;
        gap: 10px;
        align-items: center;
        justify-content: center;
        padding-bottom: 40px;
    }

    .pagination-btn {
        background: var(--card-bg);
        border: 1px solid var(--border-solid);
        color: white;
        padding: 8px 16px;
        border-radius: 8px;
        cursor: pointer;
        font-weight: bold;
        transition: 0.3s;
    }

    .pagination-btn:hover:not(:disabled) {
        border-color: var(--gold);
        background: var(--box-bg);
    }

    .pagination-btn:disabled {
        opacity: 0.3;
        cursor: not-allowed;
    }

    .page-info {
        font-weight: bold;
        font-size: 14px;
        color: var(--text-dim);
    }

    @media (max-width: 1024px) {
        .list-container { grid-template-columns: repeat(2, 1fr); }
    }

    @media (max-width: 600px) {
        .list-container { grid-template-columns: 1fr; }
        .portrait-frame { width: 90px; height: 90px; }
        .unit-image { width: 100px; height: 100px; }
    }
</style>
