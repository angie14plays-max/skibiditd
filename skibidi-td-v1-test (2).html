<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Skibidi TD â€” Improved Calculator</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700;900&display=swap" rel="stylesheet">
  <style>
    :root {
      --bg: #050506;
      --card: #0f0f11;
      --panel: #111214;
      --box: #141618;
      --border: #232529;
      --muted: #9aa0a5;
      --text: #fff;
      --radius: 12px;

      /* Colors for rarity */
      --g-astral: linear-gradient(90deg, #7f00ff, #00ffd5);
      --g-cosmic: linear-gradient(90deg, #b800e6, #6cedf0);
      --g-divine: linear-gradient(90deg, #ff00c8, #2248ff);
      --g-godly: linear-gradient(90deg, #7b00e6, #6367ff);
      --g-exclusive: linear-gradient(90deg, #00d1ff, #4fe0a3);
      --g-mythic: linear-gradient(90deg, #ff6d68, #ffb86b);
      --g-legendary: linear-gradient(90deg, #ffd54a, #ff7a00);

      /* Trait colors */
      --clean: #4b7aff;
      --gm: #f9a825;
      --ms: #02c39a;
      --sp: #9c27b0;
      --spd: #e91e63;
    }

    * {
      box-sizing: border-box;
      font-family: 'Montserrat', sans-serif;
    }

    html, body {
      height: 100%;
      margin: 0;
      background: var(--bg);
      color: var(--text);
    }

    body {
      padding: 20px;
      display: flex;
      flex-direction: column;
      align-items: center;
    }

    .container {
      width: 100%;
      max-width: 1200px;
      margin: 0 auto;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    /* Calculator Panels */
    .calc-container {
      display: flex;
      gap: 20px;
      margin-top: 20px;
    }

    .calc-panel {
      flex: 1;
      padding: 20px;
      background: var(--panel);
      border-radius: 12px;
      border: 1px solid var(--border);
    }

    .calc-title {
      text-align: center;
      font-weight: 900;
      text-transform: uppercase;
      margin-bottom: 15px;
    }

    .calc-zone {
      display: grid;
      grid-template-columns: repeat(auto-fill, 76px);
      gap: 10px;
    }

    /* Calculator thumbnails */
    .unit-thumbnail {
      position: relative;
      background: var(--card);
      width: 76px;
      height: 76px;
      border-radius: 12px;
      border: 1px solid var(--border);
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .unit-thumbnail img {
      width: 100%;
      height: 100%;
      object-fit: cover;
      border-radius: 12px;
    }

    .trait-badge {
      position: absolute;
      top: 8px;
      left: 8px;
      padding: 3px 8px;
      border-radius: 8px;
      font-size: 12px;
      font-weight: 700;
      color: #fff;
    }

    .trait-badge.clean {
      background: var(--clean);
    }

    .trait-badge.gm {
      background: var(--gm);
    }

    .trait-badge.ms {
      background: var(--ms);
    }

    .trait-badge.sp {
      background: var(--sp);
    }

    .trait-badge.spd {
      background: var(--spd);
    }

    .quantity-badge {
      position: absolute;
      bottom: 8px;
      right: 8px;
      background: #000;
      color: #fff;
      border-radius: 8px;
      font-weight: 700;
      font-size: 12px;
      padding: 3px 6px;
    }

    .demand-label {
      position: absolute;
      bottom: 8px;
      left: 8px;
      background: var(--panel);
      color: #fff;
      border-radius: 8px;
      padding: 3px 8px;
      font-size: 12px;
      font-weight: 700;
    }

    /* Trait Modal */
    .modal-overlay {
      display: none;
      position: fixed;
      inset: 0;
      background: rgba(0, 0, 0, 0.9);
      z-index: 999;
      justify-content: center;
      align-items: center;
    }

    .modal-box {
      background: var(--card);
      border-radius: 12px;
      padding: 20px;
      border: 1px solid var(--border);
      width: 320px;
    }

    .modal-title {
      text-align: center;
      font-weight: 900;
      margin-bottom: 15px;
    }

    .trait-list {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }

    .trait-btn {
      padding: 8px 12px;
      border-radius: 8px;
      font-weight: 700;
      cursor: pointer;
      text-align: center;
      border: 1px solid var(--border);
      color: #fff;
    }

    .trait-btn.clean {
      background: var(--clean);
    }

    .trait-btn.gm {
      background: var(--gm);
    }

    .trait-btn.ms {
      background: var(--ms);
    }

    .trait-btn.sp {
      background: var(--sp);
    }

    .trait-btn.spd {
      background: var(--spd);
    }
  </style>
</head>
<body>
  <div class="container">
    <!-- Calculator Panels -->
    <div class="calc-container">
      <div class="calc-panel">
        <div class="calc-title">Your Value</div>
        <div id="your-zone" class="calc-zone"></div>
        <button id="add-your-btn">+</button>
      </div>
      <div class="calc-panel">
        <div class="calc-title">Their Value</div>
        <div id="their-zone" class="calc-zone"></div>
        <button id="add-their-btn">+</button>
      </div>
    </div>
  </div>

  <!-- Trait Modal -->
  <div id="modal-overlay" class="modal-overlay">
    <div class="modal-box">
      <div class="modal-title">Choose Trait</div>
      <div class="trait-list">
        <button class="trait-btn clean" data-trait="clean">Clean</button>
        <button class="trait-btn gm" data-trait="gm">GM</button>
        <button class="trait-btn ms" data-trait="ms">Ms</button>
        <button class="trait-btn sp" data-trait="sp">Sp</button>
        <button class="trait-btn spd" data-trait="spd">Spd</button>
      </div>
      <button id="modal-close">Cancel</button>
    </div>
  </div>

  <script>
    const unitDatabase = {
      fighter_g_toilet: { name: "Fighter G-Toilet", value: "1.9M", demand: "6/10", image: "placeholder.jpg" },
    };

    let yourUnits = [];
    let theirUnits = [];
    let currentSide = "your";

    const renderZone = (side) => {
      const zone = document.getElementById(side === "your" ? "your-zone" : "their-zone");
      const units = side === "your" ? yourUnits : theirUnits;
      zone.innerHTML = units
        .map(
          (unit) => `
        <div class="unit-thumbnail">
          <img src="${unit.image}" alt="${unit.name}" />
          <div class="trait-badge ${unit.trait}">${unit.trait.toUpperCase()}</div>
          <div class="quantity-badge">x${unit.quantity}</div>
          <div class="demand-label">Demand: ${unit.demand}</div>
        </div>
      `,
        )
        .join("");
    };

    const addUnit = (trait) => {
      const units = currentSide === "your" ? yourUnits : theirUnits;
      const existingUnit = units.find((unit) => unit.trait === trait);
      if (existingUnit) {
        existingUnit.quantity++;
      } else {
        units.push({
          ...unitDatabase.fighter_g_toilet,
          trait,
          quantity: 1,
        });
      }
      renderZone(currentSide);
      closeModal();
    };

    document.querySelectorAll(".trait-btn").forEach((btn) => {
      btn.addEventListener("click", () => {
        addUnit(btn.dataset.trait);
      });
    });

    const showModal = (side) => {
      document.getElementById("modal-overlay").style.display = "flex";
      currentSide = side;
    };

    const closeModal = () => {
      document.getElementById("modal-overlay").style.display = "none";
    };

    document.getElementById("add-your-btn").addEventListener("click", () => showModal("your"));
    document.getElementById("add-their-btn").addEventListener("click", () => showModal("their"));
    document.getElementById("modal-close").addEventListener("click", closeModal);

    renderZone("your");
    renderZone("their");
  </script>
</body>
</html>
