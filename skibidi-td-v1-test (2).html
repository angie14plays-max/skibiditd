<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>FNaF TD Style — Value List (uses skibidi data)</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700;900&display=swap" rel="stylesheet">
  <style>
    :root{ --bg:#050405; --panel:#070607; --card:#0b0b0b; --muted:#cfc9d6; --neon1:#b300ff; --neon2:#ff3bd1; --accent:#7b00e6; }
    *{box-sizing:border-box}
    body{margin:0;background:var(--bg);color:#fff;font-family:Montserrat,system-ui,Arial,Helvetica,sans-serif;padding:28px;display:flex;flex-direction:column;align-items:center}

    .header{width:100%;max-width:1200px;display:flex;align-items:center;justify-content:space-between;margin-bottom:18px}
    .site-title{font-weight:900;letter-spacing:4px;color:var(--neon2);font-size:20px}

    .controls{display:flex;gap:12px;align-items:center}
    .search{background:transparent;border:2px solid rgba(255,255,255,0.04);padding:10px 14px;border-radius:8px;color:var(--muted);min-width:320px}

    .rarity-row{display:flex;gap:8px;margin:18px 0;flex-wrap:wrap}
    .rar-btn{padding:10px 12px;border-radius:8px;background:transparent;border:2px solid rgba(255,255,255,0.04);color:var(--muted);font-weight:900;cursor:pointer}
    .rar-btn.active{box-shadow:0 6px 28px rgba(123,0,230,0.12), 0 0 24px rgba(255,59,209,0.06);border-color:var(--neon1);color:var(--neon2)}

    .grid{width:100%;max-width:1200px;display:grid;grid-template-columns:repeat(3,1fr);gap:18px}
    .card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.02));border-radius:12px;padding:12px;border:2px solid rgba(255,255,255,0.03);position:relative;overflow:hidden}
    .card::after{content:'';position:absolute;inset:0;border-radius:12px;pointer-events:none;mix-blend-mode:screen;opacity:0.02}

    .card-head{display:flex;gap:12px;align-items:center}
    .portrait{width:88px;height:88px;border-radius:6px;background:#0a0a0a;border:3px solid rgba(255,255,255,0.04);background-size:cover;background-position:center}
    .name{font-weight:900;text-transform:uppercase;letter-spacing:1px;color:var(--neon2);font-size:13px}

    .info-grid{display:grid;grid-template-columns:1fr 1fr;gap:8px;margin-top:10px}
    .info-cell{background:rgba(0,0,0,0.16);padding:8px;border-radius:8px;border:1px solid rgba(255,255,255,0.02);font-weight:900;text-align:center}
    .label{font-size:10px;color:#b8aeda;text-transform:uppercase}
    .value{font-size:14px;margin-top:6px}

    .status-badge{display:inline-block;padding:6px 8px;border-radius:8px;font-weight:900;text-transform:uppercase}
    .status-rising{background:linear-gradient(90deg,#7efc8a,#22c55e);color:#021}
    .status-unstable{background:linear-gradient(90deg,#ff6d68,#ffb86b);color:#111}
    .demand-pill{padding:6px 8px;border-radius:8px;font-weight:900;background:linear-gradient(90deg,#ff6dff,#7b00e6);color:#fff}

    .pagination{display:flex;gap:8px;align-items:center;margin:18px 0}
    .page-btn{padding:8px 10px;border-radius:8px;background:transparent;border:2px solid rgba(255,255,255,0.04);color:var(--muted);font-weight:900;cursor:pointer}

    /* neon outlines per rarity - small accent bar */
    .card.rarity-astral{box-shadow:0 6px 30px rgba(127,0,255,0.06);border-color:rgba(127,0,255,0.18)}
    .card.rarity-cosmic{box-shadow:0 6px 30px rgba(184,0,230,0.06);border-color:rgba(184,0,230,0.18)}
    .card.rarity-divine{box-shadow:0 6px 30px rgba(255,0,200,0.06);border-color:rgba(255,0,200,0.18)}
    .card.rarity-godly{box-shadow:0 6px 30px rgba(123,0,230,0.06);border-color:rgba(123,0,230,0.18)}
    .card.rarity-exclusive{box-shadow:0 6px 30px rgba(0,209,255,0.06);border-color:rgba(0,209,255,0.18)}
    .card.rarity-mythic{box-shadow:0 6px 30px rgba(255,106,104,0.06);border-color:rgba(255,106,104,0.18)}
    .card.rarity-legendary{box-shadow:0 6px 30px rgba(255,213,74,0.06);border-color:rgba(255,213,74,0.18)}

    @media (max-width:1000px){.grid{grid-template-columns:repeat(2,1fr)}.search{min-width:160px}}
    @media (max-width:600px){.grid{grid-template-columns:1fr}.header{flex-direction:column;align-items:flex-start}.controls{width:100%;justify-content:space-between}}
  </style>
</head>
<body>
  <div class="header">
    <div class="site-title">APEX / VALUE LIST — NEON</div>
    <div class="controls">
      <input id="search" class="search" placeholder="Search units..." />
    </div>
  </div>

  <div class="rarity-row" id="rarityRow"></div>
  <div class="grid" id="grid"></div>
  <div class="pagination" id="pagination"></div>

  <script src="skibidi-td-data.js"></script>
  <script>
  (function(){
    if(typeof unitDatabase==='undefined'){ document.getElementById('grid').innerText='unitDatabase missing (place skibidi-td-data.js alongside this file)'; return }
    const rarities = ['All','Astral','Cosmic','Divine','Godly','Exclusive','Mythic','Legendary'];
    const unitKeys = Object.keys(unitDatabase).sort((a,b)=> (unitDatabase[a].name||'').localeCompare(unitDatabase[b].name||''));
    const grid = document.getElementById('grid');
    const rarityRow = document.getElementById('rarityRow');
    const search = document.getElementById('search');
    const pagination = document.getElementById('pagination');

    let filter='All'; let q=''; let page=1; const perPage=9;

    function makeRarityButtons(){ rarityRow.innerHTML = rarities.map(r=>`<button class="rar-btn" data-r="${r.toLowerCase()}">${r}</button>`).join('');
      rarityRow.querySelectorAll('.rar-btn').forEach(b=>{ b.addEventListener('click', ()=>{ rarityRow.querySelectorAll('.rar-btn').forEach(x=>x.classList.remove('active')); b.classList.add('active'); filter=b.innerText; page=1; render(); }) });
      // set All active
      const all = rarityRow.querySelector('[data-r="all"]'); if(all) all.classList.add('active');
    }

    function parseValue(v){ if(!v && v!==0) return 0; const s=String(v).replace(/[\$\,\s]/g,''); const m=s.match(/(\d+(?:\.\d+)?)([kKmM])?/); if(m){let n=parseFloat(m[1]); const u=m[2]; if(u){ if(u.toLowerCase()==='k') n*=1e3; if(u.toLowerCase()==='m') n*=1e6;} return n} const f=s.match(/\d+(?:\.\d+)?/); return f?parseFloat(f[0]):0 }

    function demandClass(d){ if(!d) return 'Low'; const m=String(d).match(/(\d+)/); const v=m?Number(m[1]):0; if(v>=8) return 'High'; if(v>=4) return 'Mid'; return 'Low' }

    function render(){
      q = (search.value||'').trim().toLowerCase();
      let keys = unitKeys.filter(k=>{
        const u=unitDatabase[k];
        if(!u) return false;
        if(filter.toLowerCase()!=='all' && (u.rarity||'').toLowerCase()!==filter.toLowerCase()) return false;
        if(q && !(u.name||'').toLowerCase().includes(q)) return false;
        return true;
      });

      const total = Math.max(1, Math.ceil(keys.length/perPage));
      if(page>total) page=total;
      const start = (page-1)*perPage; const pageKeys = keys.slice(start,start+perPage);

      grid.innerHTML = pageKeys.map(k=>{
        const u = unitDatabase[k];
        const portrait = u.unitId ? `url('https://corsproxy.io/?https://drive.google.com/thumbnail?id=${u.unitId}')` : '';
        const rarityClass = 'rarity-'+((u.rarity||'') .toLowerCase().replace(/\s+/g,'-'));
        const val = u.baseStats && u.baseStats.value ? u.baseStats.value : '0';
        const status = u.baseStats && u.baseStats.status ? u.baseStats.status : 'Unknown';
        const demand = u.baseStats && u.baseStats.demand ? u.baseStats.demand : '0/10';
        return `
          <div class="card ${rarityClass}">
            <div class="card-head">
              <div class="portrait" style="background-image:${portrait}"></div>
              <div style="flex:1">
                <div class="name">${(u.name||'Unnamed').toUpperCase()}</div>
              </div>
            </div>
            <div class="info-grid">
              <div class="info-cell">
                <div class="label">Value</div>
                <div class="value">${String(val)}</div>
              </div>
              <div class="info-cell">
                <div class="label">Demand</div>
                <div class="value"><span class="demand-pill">${String(demand)}</span></div>
              </div>
              <div class="info-cell" style="grid-column:1 / -1">
                <div class="label">Status</div>
                <div style="margin-top:8px"><span class="status-badge ${status.toLowerCase().includes('unstable')? 'status-unstable':'status-rising'}">${String(status)}</span></div>
              </div>
            </div>
          </div>
        `
      }).join('') || '<div style="grid-column:1/-1;text-align:center;color:var(--muted);padding:40px">No units found</div>';

      // pagination
      renderPagination(total);
    }

    function renderPagination(total){
      if(total<=1){ pagination.innerHTML=''; return }
      let html = `<button class="page-btn" id="prev">‹</button>`;
      html += `<div style="font-weight:900;color:var(--muted);padding:6px 12px;border-radius:8px">Page ${page} / ${total}</div>`;
      html += `<button class="page-btn" id="next">›</button>`;
      pagination.innerHTML = html;
      document.getElementById('prev').onclick = ()=>{ if(page>1){ page--; render() } };
      document.getElementById('next').onclick = ()=>{ if(page<total){ page++; render() } };
    }

    // init
    makeRarityButtons(); render();
    search.addEventListener('input', ()=>{ page=1; render() });

    // expose for dev
    window._fnafList = { render };
  })();
  </script>
</body>
</html>
